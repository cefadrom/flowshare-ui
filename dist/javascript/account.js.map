{"version":3,"sources":["../../src/typescript/account.ts"],"names":["$","setCategory","name","html","clone","css","appendTo","data","Cookies","getJSON","text","displayUploadFlowForm","displayDailyShareCoins","categoryWindowResize","windowWidth","extentNav","allowNavExtend","show","hide","isNavExtended","height","extend","removeClass","addClass","displayAccountData","displayContent","contentDiv","account","cookieExpires","expires","newCookie","Object","assign","email","username","set","on","remove","displayLoginForm","categoryDiv","cursor","opacity","allowChoseCategory","ajax","method","url","flowshareURLs","api","token","success","reqData","JSON","parse","e","error","loginResult","mask","fadeOut","displayError","stringify","args","length","msg","trigger","val","fadeIn","password","status","attr","displayTokenLoginForm","displayRegisterForm","ajaxResult","console","log","timeout","alert","requestData","uploadFlow","title","description","loadResponse","errorMsg","response","id","base64","post","flowData","uploadTitle","uploadDescription","uploadFlowInput","fr","FileReader","file","prop","onload","result","split","readAsDataURL","dailyButton","window","width","homepage","homepageDir","location","href","replace","category","setTimeout","get"],"mappings":"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","sourcesContent":["// ############################################################################################\r\n// ######################################## INTERFACES ########################################\r\n// ############################################################################################\r\n\r\ninterface AccountCookie {\r\n    token: string;\r\n    username: string;\r\n    expires: number;\r\n    email: string;\r\n}\r\n\r\ninterface LoginRequest {\r\n    error?: string;\r\n    response: string\r\n    token: string;\r\n}\r\n\r\ninterface FlowUploadResult {\r\n    error?: string;\r\n    response: string;\r\n    id: string;\r\n}\r\n\r\n// ##########################################################################################\r\n// ######################################## APP CORE ########################################\r\n// ##########################################################################################\r\n\r\n$(function () {\r\n\r\n    // ----------------------------------------------------------------------------------------\r\n    // ---------------------------------------- GLOBAL ----------------------------------------\r\n    // ----------------------------------------------------------------------------------------\r\n\r\n    let windowWidth = <number>$(window).width();\r\n\r\n    $(window).on('resize', function () {\r\n\r\n        windowWidth = <number>$(this).width();\r\n\r\n        categoryWindowResize();\r\n\r\n    });\r\n\r\n    const flowshareURLs = {\r\n        homepage: 'https://rasphost.com/flowshare/web/test/home/',\r\n        homepageDir: '/flowshare/web/test/home/',\r\n        api: 'https://rasphost.com/flowshare/',\r\n    };\r\n\r\n\r\n    // ----------------------------------------------------------------------------------------\r\n    // ---------------------------------------- HEADER ----------------------------------------\r\n    // ----------------------------------------------------------------------------------------\r\n\r\n    $('#header-home').on('click.flowshare', function () {\r\n\r\n        // redirect on home page\r\n        window.location.href = window.location.href.replace(/account\\/.*/, 'home/');\r\n\r\n    });\r\n\r\n\r\n    // --------------------------------------------------------------------------------------------\r\n    // ---------------------------------------- CATEGORIES ----------------------------------------\r\n    // --------------------------------------------------------------------------------------------\r\n\r\n    let allowChoseCategory: boolean = true;\r\n\r\n    let categoryDiv = $('.category');\r\n\r\n    $('.category:first').css('backgroundColor', '#fdcb6e');\r\n\r\n    categoryDiv.on('click.flowshare', function () {\r\n\r\n        if (allowChoseCategory) {\r\n\r\n            $('.category').css('backgroundColor', 'transparent');\r\n            $(this).css('backgroundColor', '#fdcb6e');\r\n\r\n            let category = $(this).attr('data-nav-value');\r\n            if (category)\r\n                setCategory(category);\r\n            else\r\n                console.error('Category is undefined');\r\n\r\n        }\r\n\r\n    });\r\n\r\n\r\n    /**\r\n     * Displays the selected category in the content window\r\n     * @param name HTML ID of the element to display\r\n     */\r\n    function setCategory(name: string) {\r\n\r\n        $('#content').html('');\r\n        $(name).clone().css('display', 'block').appendTo('#content');\r\n\r\n        if (name === '#content-account') {\r\n            let data: AccountCookie = Cookies.getJSON('account');\r\n            $('#content-account .title:first').text(`Connected as ${data['username']}`);\r\n        }\r\n\r\n        if (name === '#content-upload')\r\n            displayUploadFlowForm();\r\n\r\n        if (name === '#content-daily')\r\n            displayDailyShareCoins();\r\n\r\n    }\r\n\r\n    setTimeout(function () {\r\n        categoryDiv.css('transition', '.4s');\r\n    }, 400);\r\n\r\n\r\n    // ----- CATEGORY STYLE -----\r\n\r\n    let isNavExtended = true;\r\n    let allowNavExtend = windowWidth < 1000;\r\n\r\n    if (windowWidth < 1000) $('#nav-arrow').show();\r\n\r\n    $('nav .title').on('click', function () {\r\n        extentNav(isNavExtended);\r\n        isNavExtended = !isNavExtended;\r\n    });\r\n\r\n    function categoryWindowResize() {\r\n        if (windowWidth < 1000) {\r\n            extentNav(true);\r\n            allowNavExtend = true;\r\n            $('#nav-arrow').show();\r\n        } else {\r\n            extentNav(false);\r\n            allowNavExtend = false;\r\n            $('#nav-arrow').hide();\r\n        }\r\n        isNavExtended = <number>$('nav').height() < 100;\r\n    }\r\n\r\n    function extentNav(extend?: boolean) {\r\n        if (!allowNavExtend) return;\r\n        if (extend) {\r\n            $('nav').css('height', '60px');\r\n            $('#nav-arrow').removeClass('active');\r\n        } else {\r\n            $('nav').css('height', '310px');\r\n            $('#nav-arrow').addClass('active');\r\n        }\r\n    }\r\n\r\n\r\n    // ----------------------------------------------------------------------------------------------\r\n    // ---------------------------------------- ACCOUNT PART ----------------------------------------\r\n    // ----------------------------------------------------------------------------------------------\r\n\r\n    let contentDiv = $('#content');\r\n\r\n    contentDiv.html('');\r\n\r\n    if (!Cookies.get('account'))\r\n        displayLoginForm();\r\n    else\r\n        displayAccountData();\r\n\r\n    // ----- ACCOUNT DATA -----\r\n\r\n\r\n    /**\r\n     * Makes the query if there is no data and displays the content in the `#content-account` div\r\n     * If data is supplied, just displays it in the content\r\n     * @param data\r\n     */\r\n    function displayAccountData(data?: AccountData) {\r\n\r\n        contentDiv.html('<div id=\"loading-message\">Loading data...</div>');\r\n\r\n        categoryDiv.css({\r\n            cursor: 'pointer',\r\n            opacity: '1',\r\n        });\r\n        allowChoseCategory = true;\r\n\r\n        if (data) return displayContent(data);\r\n\r\n        let account: AccountCookie = Cookies.getJSON('account');\r\n\r\n        $.ajax({\r\n            method: 'GET',\r\n            url: `${flowshareURLs.api}account.php`,\r\n            data: { token: account['token'] },\r\n            success: (data: string) => {\r\n\r\n                let reqData: AccountData;\r\n                try {\r\n                    reqData = JSON.parse(data);\r\n                } catch (e) {\r\n                    return $('#loading-message').html(`AJAX error: ${e}<br>Response body: ${data}`);\r\n                }\r\n\r\n                if (reqData['error']) return displayLoginForm(reqData['error']);\r\n\r\n                displayContent(reqData);\r\n\r\n            },\r\n            error: () => {\r\n                $('#loading-message').text('AJAX error. Please reload the page.');\r\n            },\r\n        });\r\n\r\n        function displayContent(data: AccountData) {\r\n\r\n            contentDiv.html('');\r\n\r\n            let account: AccountCookie = Cookies.getJSON('account');\r\n            let cookieExpires = account.expires === 0 ? undefined : { expires: account.expires };\r\n            let newCookie: AccountCookie = Object.assign(\r\n                account,\r\n                {\r\n                    email: data['email'],\r\n                    username: data['username'],\r\n                },\r\n            );\r\n            Cookies.set('account', newCookie, cookieExpires);\r\n\r\n            $('#content-account').clone().appendTo(contentDiv).show();\r\n            $('#content-account .title:first').html(`Connected as ${data['username']}<br>${data['coins']} sharecoins`);\r\n\r\n            $('#account-logout').on('click.flowshare', function () {\r\n                Cookies.remove('account');\r\n                displayLoginForm(null, data['email']);\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    // ----- LOGIN -----\r\n\r\n    /**\r\n     * Display the login form\r\n     * @param error displays the error if there is one\r\n     * @param email pre-fill the email if we know it\r\n     */\r\n    function displayLoginForm(error?: string | null, email?: string) {\r\n\r\n        contentDiv.html('');\r\n\r\n        categoryDiv.css({\r\n            cursor: 'not-allowed',\r\n            opacity: '.6',\r\n        });\r\n\r\n        allowChoseCategory = false;\r\n        $('#content-login').clone().appendTo(contentDiv).show();\r\n\r\n        let mask = $('#content-login .mask:first');\r\n        $('#login-mail').trigger('focus');\r\n\r\n        if (error) displayError(error);\r\n\r\n        if (!email && Cookies.getJSON('account')) email = Cookies.getJSON('account')['email'];\r\n\r\n        if (email) {\r\n            $('#login-mail').val(email);\r\n            $('#login-password').trigger('focus');\r\n        } else {\r\n            $('#login-mail').trigger('focus');\r\n        }\r\n\r\n        $('#content-login').on('submit', function () {\r\n\r\n            mask.fadeIn();\r\n\r\n            $.ajax({\r\n                method: 'POST',\r\n                url: `${flowshareURLs.api}login.php`,\r\n                data: {\r\n                    email: $('#login-mail').val(),\r\n                    password: $('#login-password').val(),\r\n                },\r\n                success: (data: string) => {\r\n                    loginResult(data);\r\n                },\r\n                error: (e) => {\r\n                    mask.fadeOut();\r\n                    displayError(`AJAX error: response status ${e.status}. Please try later or contact the administrator`);\r\n                },\r\n            });\r\n\r\n        });\r\n\r\n        $('#content-login .additional-button').on('click.flowshare', function () {\r\n\r\n            if ($(this).attr('data-ref') === 'token')\r\n                displayTokenLoginForm();\r\n            else\r\n                displayRegisterForm();\r\n\r\n        });\r\n\r\n        function loginResult(data: string) {\r\n\r\n            mask.fadeOut();\r\n\r\n            let reqData: LoginRequest;\r\n            try {\r\n                reqData = JSON.parse(data);\r\n            } catch (e) {\r\n                return displayError(`Error: ${e}, response body: ${data}`);\r\n            }\r\n\r\n            if (reqData['error']) return displayError(reqData['error']);\r\n\r\n            if (reqData['response'] !== 'OK') return displayError(`An error occurs, response body: ${JSON.stringify(data)}`);\r\n\r\n            let args: { expires: number } | undefined;\r\n            if ($('#content-login #login-remember:checked').length) // if the user checked the \"remember me\" option\r\n                args = { expires: 365 };\r\n\r\n            Cookies.set('account', {\r\n                token: reqData['token'],\r\n                expires: args ? 365 : 0,\r\n            }, args);\r\n\r\n            displayAccountData();\r\n\r\n        }\r\n\r\n        function displayError(msg: string) {\r\n            $('.error-msg:first').text(msg);\r\n            $('#login-mail').trigger('focus');\r\n            return $('#login-password').val('');\r\n        }\r\n\r\n    }\r\n\r\n    // ----- LOGIN WITH TOKEN -----\r\n\r\n    /**\r\n     * Displays the login form in the `#content` div and makes the ajax request when submitted\r\n     */\r\n    function displayTokenLoginForm() {\r\n\r\n        contentDiv.html('');\r\n\r\n        categoryDiv.css({\r\n            cursor: 'not-allowed',\r\n            opacity: '.6',\r\n        });\r\n\r\n        allowChoseCategory = false;\r\n        $('#content-login-token').clone().appendTo(contentDiv).show();\r\n\r\n        $('#login-token').trigger('focus');\r\n        let mask = $('#content-login-token .mask');\r\n\r\n        $('#content-login-token').on('submit', function () {\r\n\r\n            mask.fadeIn();\r\n\r\n            $.ajax({\r\n                method: 'GET',\r\n                url: `${flowshareURLs.api}account.php`,\r\n                data: {\r\n                    token: $('#login-token').val(),\r\n                },\r\n                timeout: 5000,\r\n                success: (data: string) => {\r\n                    mask.fadeOut();\r\n                    ajaxResult(data);\r\n                },\r\n                error: (e) => {\r\n                    mask.fadeOut();\r\n                    displayError(`AJAX error : response code ${e.status}. Please try later or contact the administrator`);\r\n                },\r\n            });\r\n\r\n        });\r\n\r\n        $('#content-login-token .additional-button').on('click.flowshare', function () {\r\n            displayLoginForm();\r\n        });\r\n\r\n        function ajaxResult(data: string) {\r\n\r\n            let reqData: AccountData;\r\n            try {\r\n                reqData = JSON.parse(data);\r\n            } catch (e) {\r\n                return displayError(`Error: ${e}. Response body: ${data}`);\r\n            }\r\n\r\n            if (reqData['error'])\r\n                return displayError(reqData['error']);\r\n\r\n            if (!(reqData['username']))\r\n                return displayError('Unknown error, please try again');\r\n\r\n            let args: { expires: number } | undefined;\r\n            if ($('#content-login-token #token-remember:checked').length > 0)\r\n                args = { expires: 365 };\r\n\r\n            console.log(args);\r\n\r\n            Cookies.set('account', {\r\n                token: $('#login-token').val(),\r\n                username: reqData['username'],\r\n                expires: args ? 365 : 0,\r\n            }, args);\r\n\r\n            displayAccountData(reqData);\r\n\r\n        }\r\n\r\n        function displayError(msg: string) {\r\n            $('.error-msg:first').text(msg);\r\n            $('#login-token').trigger('focus');\r\n        }\r\n\r\n    }\r\n\r\n    // ----- REGISTER -----\r\n\r\n    function displayRegisterForm() {\r\n\r\n        contentDiv.html('');\r\n\r\n        categoryDiv.css({\r\n            cursor: 'not-allowed',\r\n            opacity: '.6',\r\n        });\r\n\r\n        allowChoseCategory = false;\r\n        $('#content-register').clone().appendTo(contentDiv).show();\r\n\r\n        $('#register-email').trigger('focus');\r\n        // let mask = $('#content-register .mask');\r\n\r\n        //todo: finish register part\r\n        alert('This functionality is WIP. Please create an account with the flowshare flow.');\r\n\r\n        $('#content-register').on('submit', function () {\r\n\r\n            let requestData = {\r\n                email: $('#register-email').val(),\r\n                password: $('#register-password-1').val(),\r\n                username: $('#register-username').val(),\r\n            };\r\n\r\n            if (requestData.password !== $('#register-password-2').val())   // if password != password confirmation\r\n                return displayError('The two passwords must be identical.');\r\n\r\n            //     mask.fadeIn();\r\n            //\r\n            //     $.ajax({\r\n            //         method: 'POST',\r\n            //         url: `${flowshareURLs.api}register.php`,\r\n            //         data: requestData,\r\n            //         timeout: 5000,\r\n            //         success: function (data) {\r\n            //             mask.fadeOut();\r\n            //         },\r\n            //         error: function () {\r\n            //             mask.fadeOut();\r\n            //         }\r\n            //     })\r\n\r\n        });\r\n\r\n        $('#content-register .additional-button').on('click.flowshare', function () {\r\n            displayLoginForm();\r\n        });\r\n\r\n        function displayError(msg: string) {\r\n            $('.error-msg:first').text(msg);\r\n            $('#register-password-1, #register-password-2').val('');\r\n            $('#register-email').trigger('focus');\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // ---------------------------------------------------------------------------------------------\r\n    // ---------------------------------------- UPLOAD FLOW ----------------------------------------\r\n    // ---------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * Displays the form for flow uploading in the `#content` div, and uploads the flow when submitted\r\n     */\r\n    function displayUploadFlowForm() {\r\n\r\n        let flowData: string,\r\n            uploadTitle = $('#upload-title'),\r\n            uploadDescription = $('#upload-description'),\r\n            uploadFlowInput = $('#upload-flow'),\r\n            mask = $('#content-upload .mask'),\r\n            errorMsg = $('#content-upload .error-msg');\r\n\r\n        uploadFlowInput.on('change', function () {\r\n\r\n            let fr = new FileReader();\r\n            let file = uploadFlowInput.prop('files')[0];\r\n            fr.onload = function () {\r\n                // @ts-ignore\r\n                flowData = fr.result.split(';base64,')[1];\r\n                if (uploadTitle.val() === '')\r\n                    uploadTitle.val(file.name.split('.flo')[0]);\r\n            };\r\n            fr.readAsDataURL(file);\r\n\r\n        });\r\n\r\n        $('#content-upload').on('submit', function () {\r\n            uploadFlow(\r\n                <string>uploadTitle.val(),\r\n                <string>uploadDescription.val(),\r\n                flowData,\r\n            );\r\n        });\r\n\r\n        function uploadFlow(title: string, description: string, data: string) {\r\n\r\n            let token = Cookies.getJSON('account').token;\r\n            mask.fadeIn();\r\n\r\n            $.ajax({\r\n                method: 'POST',\r\n                url: `${flowshareURLs.api}flows.php`,\r\n                data: {\r\n                    title: title,\r\n                    description: description,\r\n                    data: data,\r\n                    base64: '',\r\n                    token: token,\r\n                    post: '',\r\n                },\r\n                timeout: 10000,\r\n                success: (data: string) => {\r\n\r\n                    mask.fadeOut();\r\n\r\n                    let reqData: FlowUploadResult;\r\n                    try {\r\n                        reqData = JSON.parse(data);\r\n                    } catch (e) {\r\n                        return errorMsg.text(`JSON parse error, response: ${data}`);\r\n                    }\r\n\r\n                    loadResponse(reqData);\r\n\r\n                },\r\n                error: (e) => {\r\n                    mask.fadeOut();\r\n                    errorMsg.text(`AJAX error, response code ${e.status}, please try again.`);\r\n                },\r\n            });\r\n\r\n            function loadResponse(data: FlowUploadResult) {\r\n\r\n                if (data.error) return errorMsg.text(data.error);\r\n\r\n                $('#content').html(\r\n                    `<div id=\"loading-message\">Response: ${data.response}${data.id ? `, flow id: ${data.id}` : ''}</div>`,\r\n                );\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // ------------------------------------------------------------------------------------------------------\r\n    // ---------------------------------------- GET DAILY SHARECOINS ----------------------------------------\r\n    // ------------------------------------------------------------------------------------------------------\r\n\r\n\r\n    /**\r\n     * Displays the button to get the sharecoins in the `#content` div, and makes the queries when the button is pressed\r\n     */\r\n    function displayDailyShareCoins() {\r\n\r\n        let dailyButton = $('#daily-button');\r\n        let mask = $('#content-daily .mask');\r\n        let errorMsg = $('#content-daily .error-msg').css('padding-top', '10px');\r\n\r\n        dailyButton.on('click', function () {\r\n\r\n            let token = Cookies.getJSON('account').token;\r\n            mask.fadeIn();\r\n\r\n            $.ajax({\r\n                method: 'POST',\r\n                url: `${flowshareURLs.api}daily.php`,\r\n                data: {\r\n                    token: token,\r\n                },\r\n                timeout: 5000,\r\n                success: function (data) {\r\n\r\n                    mask.fadeOut();\r\n\r\n                    try {\r\n                        data = JSON.parse(data);\r\n                    } catch (e) {\r\n                        return errorMsg.text(`JSON parse error, response: ${data}`);\r\n                    }\r\n\r\n                    if (data['error'])\r\n                        return errorMsg\r\n                            .css('color', 'red')\r\n                            .text(data.error);\r\n\r\n                    errorMsg\r\n                        .css('color', '#3bce38')\r\n                        .text(data.response);\r\n\r\n                },\r\n                error: function (e) {\r\n                    mask.fadeOut();\r\n                    errorMsg.text(`AJAX error, response code ${e.status}. Please try later`);\r\n                },\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n});\r\n"],"file":"account.js"}