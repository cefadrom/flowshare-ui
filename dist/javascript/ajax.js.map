{"version":3,"sources":["../../src/typescript/ajax.ts"],"names":["flowshareURLs","homepage","homepageDir","api","ajaxRequest","params","data","error","json","method","timeout","path","url","$","ajax","res","console","success","JSON","parse","e"],"mappings":"gBAWMA,CAAAA,aAAa,CAAG,CAClBC,QAAQ,CAAE,+CADQ,CAElBC,WAAW,CAAE,2BAFK,CAGlBC,GAAG,CAAE,iCAHa,C,CAUhBC,WAAW,CAAG,SAACC,CAAD,CAA2B,IACtCC,CAAAA,CADsC,CACWD,CADX,CACtCC,IADsC,CAChCC,CADgC,CACWF,CADX,CAChCE,KADgC,CACzBC,CADyB,CACWH,CADX,CACzBG,IADyB,CACnBC,CADmB,CACWJ,CADX,CACnBI,MADmB,CACXC,CADW,CACWL,CADX,CACXK,OADW,CACGC,CADH,CACWN,CADX,CACFO,GADE,CAE3CC,CAAC,CAACC,IAAF,CAAO,CACHF,GAAG,WAAKZ,aAAa,CAACG,GAAnB,SAAyBQ,CAAzB,QADA,CAEHF,MAAM,CAANA,CAFG,CAGHH,IAAI,CAAJA,CAHG,CAIHI,OAAO,CAAPA,CAJG,CAKHH,KAAK,CAAE,eAAAQ,CAAG,CAAI,CACVC,OAAO,CAACT,KAAR,CAAc,YAAd,CAA4BQ,CAA5B,CADU,CAEVR,CAAK,CAACQ,CAAD,CACR,CARE,CASHE,OAAO,CAAE,iBAACF,CAAD,CAAiB,CACtB,GAAIT,CAAAA,CAAS,CAAGS,CAAhB,CACA,GAAIP,CAAJ,CACI,GAAI,CACAF,CAAI,CAAGY,IAAI,CAACC,KAAL,CAAWJ,CAAX,CACV,CAAC,MAAOK,CAAP,CAAU,CACRJ,OAAO,CAACT,KAAR,CAAc,kBAAd,CAAkCa,CAAlC,CACH,CACLf,CAAM,CAACY,OAAP,CAAuBX,CAAvB,CACH,CAlBE,CAAP,CAoBH,C","sourcesContent":["interface QuerySettings {\r\n    url: 'account' | 'search' | 'flows' | 'reviews' | 'login' | 'register' | 'daily';\r\n    method: 'GET' | 'POST';\r\n    data?: Object;\r\n    timeout?: number;\r\n    json?: boolean;\r\n    success: CallableFunction;\r\n    error: CallableFunction;\r\n}\r\n\r\n\r\nconst flowshareURLs = {\r\n    homepage: 'https://rasphost.com/flowshare/web/test/home/',\r\n    homepageDir: '/flowshare/web/test/home/',\r\n    api: 'https://rasphost.com/flowshare/'\r\n};\r\n\r\n/**\r\n * Send a custom ajax request\r\n * @param params\r\n */\r\nconst ajaxRequest = (params: QuerySettings) => {\r\n    let {data, error, json, method, timeout, url: path} = params;\r\n    $.ajax({\r\n        url: `${flowshareURLs.api}${path}.php`,\r\n        method,\r\n        data,\r\n        timeout,\r\n        error: res => {\r\n            console.error('Ajax error', res);\r\n            error(res);\r\n        },\r\n        success: (res: string) => {\r\n            let data: any = res;\r\n            if (json)\r\n                try {\r\n                    data = JSON.parse(res);\r\n                } catch (e) {\r\n                    console.error('JSON parse error', e);\r\n                }\r\n            params.success(<string>data);\r\n        }\r\n    });\r\n};\r\n"],"file":"ajax.js"}